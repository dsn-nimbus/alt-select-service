"use strict";!function(e){e.module("alt.select-service",[]).service("AltSelectService",["$timeout","$compile",function(o,n){var t=33;this.inicializar=function(e,n){o(function(){$(e).select2(n)},t)},this.inicializarComOpcaoCriarNovo=function(a,c,i){function r(e,a,c,i){s()&&(a.replace("#","-"),o(function(){$(".select2-search").append(n(angular.element(c))(i.escopo)),$("#"+e).on("click",function(){$(a).select2("close")})},t),p=!0)}function s(){return!p}if(!e.isObject(c))throw new TypeError("O segundo par√¢metro deve ser um objeto.");if(!c.strMetodo)throw new TypeError("A primeira propriedade do objeto deve ser strMetodo.");if(!c.escopo)throw new TypeError("A segunda propriedade do objeto deve ser escopo.");var l,d="alt-select2-id-"+Date.now(),u="alt-select2-id-"+Date.now(),p=!1,f=!1,h='\n        <div>\n          <span>Nenhum resultado encontrado...</span>\n          <a style="color: #6e3076;" class="alt-espacamento-left alt-select-botao-criacao-entidade" id="'+d+'"\n                  ng-click="'+c.strMetodo+'">\n                  <i class="fa fa-plus-circle alt-hand" aria-hidden="true"></i>\n                  <strong class=\'alt-select-botao-abrir-modal alt-hand\'>Criar Novo</strong>\n          </a>\n        </div>',v='\n          <div>\n            <ul style="padding-left: 10px;" class=\'alt-espacamento-top alt-cor-principal select2-cor-opcao-criar-novo alt-hand\' ng-click="'+c.strMetodo+'" id="'+u+'">\n              <i class="fa fa-plus-circle" aria-hidden="true"></i>\n              <a class="select2-cor-opcao-criar-novo"><strong class=\'alt-select-botao-abrir-modal alt-hand\'>Criar Novo</strong></a>\n            </ul>\n          </div>',m=e.extend(i,{language:{noResults:function(){f=!0;var e=n(angular.element(h))(c.escopo);return $(e).find("#"+d).on("click",function(){$(a).select2("close")}),e}},escapeMarkup:function(e){return e}});o(function(){$(a).select2(m)},t),$(a).off("select2:open"),$("#"+l).off("input");var g=!1;$(a).on("select2:open",function(){o(function(){r(u,a,v,c)}.bind(this),t),0==g&&($(".select2-search__field").each(function(){l=parseInt(Date.now()+(1e3*Math.random()+1)),$(this).attr("id",l)}),$("#"+l).on("input",function(){return f?($(".select2-cor-opcao-criar-novo").remove(),p=!1,f=!1):(r(u,a,v,c),void(p=!0))}.bind(this)),g=!0)}.bind(this)),$(a).on("select2:close",function(){$("#"+u).remove()})},this.abrir=function(e,n){o(function(){$(e).select2("open",n)},t)},this.fechar=function(e){o(function(){$(e).select2("close")},t)}}])}(angular);