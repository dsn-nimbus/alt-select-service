"use strict";!function(e){e.module("alt.select-service",[]).service("AltSelectService",["$timeout","$compile",function(o,t){var n=33;this.inicializar=function(e,t){o(function(){$(e).select2(t)},n)},this.inicializarComOpcaoCriarNovo=function(a,i,r){if(!e.isObject(i))throw new TypeError("O segundo par√¢metro deve ser um objeto.");if(!i.strMetodo)throw new TypeError("A primeira propriedade do objeto deve ser strMetodo.");if(!i.escopo)throw new TypeError("A segunda propriedade do objeto deve ser escopo.");var c,s="alt-select2-id-"+Date.now(),l="alt-select2-id-"+Date.now(),d=!1,u='\n        <div>\n          <span>Nenhum resultado encontrado...</span>\n          <a style="color: #6e3076;" class="alt-espacamento-left alt-select-botao-criacao-entidade" id="'+s+'"\n                  ng-click="'+i.strMetodo+'">\n                  <i class="fa fa-plus-circle alt-hand" aria-hidden="true"></i>\n                  <strong class=\'alt-select-botao-abrir-modal alt-hand\'>Criar Novo</strong>\n          </a>\n        </div>',p="\n          <div>\n            <ul class='select2-results__option alt-cor-principal select2-cor-opcao-criar-novo' ng-click=\""+i.strMetodo+'" id="'+l+'">\n              <i class="fa fa-plus-circle alt-hand" aria-hidden="true"></i>\n              <a class="select2-cor-opcao-criar-novo"><strong class=\'alt-select-botao-abrir-modal alt-hand\'>Criar Novo</strong></a>\n            </ul>\n          </div>',f=e.extend(r,{language:{noResults:function(){var e=t(angular.element(u))(i.escopo);return $(e).find("#"+s).on("click",function(){$(a).select2("close")}),e}},escapeMarkup:function(e){return e}});o(function(){$(a).select2(f)},n),$(a).off("select2:open"),$("#"+c).off("input");var v=!1;$(a).on("select2:open",function(){o(function(){this._appendCriarNovo(l,a,p,i)}.bind(this),n),0==v&&($(".select2-search__field").each(function(){c=parseInt(Date.now()+(1e3*Math.random()+1)),$(this).attr("id",c)}),v=!0),$("#"+c).on("input",function(){""===$("#"+c).val()||void 0===$("#"+c).val()?this._appendCriarNovo(l,a,p,i):!!$("#"+c).val()&&""!==$("#"+c).val()&&(d=!1)}.bind(this))}.bind(this)),$(a).on("select2:closing",function(){d=!1})},this.abrir=function(e,t){o(function(){$(e).select2("open",t)},n)},this.fechar=function(e){o(function(){$(e).select2("close")},n)}}])}(angular);